<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>机器人学第六章作业 | cpx的窝</title><meta name="author" content="cpx,cpxv587@elapse.fun"><meta name="copyright" content="cpx"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="机器人学第六章作业 分别用 Lagrange 法和 Newton-Euler 法推导建立如图所示2自由度机器人的动力学方程。连杆质心位于连杆几何中心，其转动惯量分别为\(I_1\)和\(I_2\)。   图1　2自由度机器人示意图  Lagrange 法 以图1中\(O-X_0Y_0Z_0\)为极坐标系，连杆1的质心 \(C\) 的位置是： \[ \begin{cases}">
<meta property="og:type" content="article">
<meta property="og:title" content="机器人学第六章作业">
<meta property="og:url" content="http://elapse.fun/2022/11/04/f3d48ed7528f/index.html">
<meta property="og:site_name" content="cpx的窝">
<meta property="og:description" content="机器人学第六章作业 分别用 Lagrange 法和 Newton-Euler 法推导建立如图所示2自由度机器人的动力学方程。连杆质心位于连杆几何中心，其转动惯量分别为\(I_1\)和\(I_2\)。   图1　2自由度机器人示意图  Lagrange 法 以图1中\(O-X_0Y_0Z_0\)为极坐标系，连杆1的质心 \(C\) 的位置是： \[ \begin{cases}">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
<meta property="article:published_time" content="2022-11-04T13:46:04.000Z">
<meta property="article:modified_time" content="2022-11-05T13:56:44.613Z">
<meta property="article:author" content="cpx">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://elapse.fun/2022/11/04/f3d48ed7528f/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.27/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2.1.2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '机器人学第六章作业',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-11-05 21:56:44'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/psc2.gif" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">cpx的窝</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">机器人学第六章作业</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-11-04T13:46:04.000Z" title="发表于 2022-11-04 21:46:04">2022-11-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-11-05T13:56:44.613Z" title="更新于 2022-11-05 21:56:44">2022-11-05</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="机器人学第六章作业"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="机器人学第六章作业">机器人学第六章作业</h1>
<p>分别用 Lagrange 法和 Newton-Euler
法推导建立如图所示2自由度机器人的动力学方程。连杆质心位于连杆几何中心，其转动惯量分别为<span
class="math inline">\(I_1\)</span>和<span
class="math inline">\(I_2\)</span>。</p>
<p><img src="https://raw.githubusercontent.com/cpxv587/blogimg/main/202211042152164.png" alt="202211031616154" style="zoom:67%;" /></p>
<center style="font-size:14px;color:#000">
图1　2自由度机器人示意图
</center>
<h2 id="lagrange-法">Lagrange 法</h2>
<p>以图1中<span
class="math inline">\(O-X_0Y_0Z_0\)</span>为极坐标系，连杆1的质心 <span
class="math inline">\(C\)</span> 的位置是： <span
class="math display">\[
\begin{cases}
    x_1=\frac{1}{2}l_1\cos \theta _1\\
    y_1=\frac{1}{2}l_1\sin \theta _1\\
\end{cases}
\]</span> 对上式相对于时间 <span class="math inline">\(t\)</span>
求导，可得质心 <span class="math inline">\(C\)</span> 的速度是： <span
class="math display">\[
\begin{cases}
    \dot{x}_1=-\frac{1}{2}l_1\cos \theta _1\dot{\theta}_1\\
    \dot{y}_1=\frac{1}{2}l_1\sin \theta _1\dot{\theta}_1\\
\end{cases}
\]</span> 连杆2的质心 <span class="math inline">\(D\)</span> 的位置是：
<span class="math display">\[
\begin{cases}
    x_2=l_1\cos \theta _1+\frac{1}{2}l_2\cos \left( \theta _1+\theta _2
\right)\\
    y_2=l_1\sin \theta _1+\frac{1}{2}l_2\sin \left( \theta _1+\theta _2
\right)\\
\end{cases}
\]</span> 对上式相对于时间 <span class="math inline">\(t\)</span>
求导，可得质心 <span class="math inline">\(D\)</span> 的速度是： <span
class="math display">\[
\begin{cases}
    \dot{x}_2=-l_1\sin \theta _1\dot{\theta}_1-\frac{1}{2}l_2\sin \left(
\theta _1+\theta _2 \right) \cdot \left( \dot{\theta}_1+\dot{\theta}_2
\right)\\
    \dot{y}_2=l_1\cos \theta _1\dot{\theta}_1+\frac{1}{2}l_2\cos \left(
\theta _1+\theta _2 \right) \cdot \left( \dot{\theta}_1+\dot{\theta}_2
\right)\\
\end{cases}
\]</span> 连杆1的动能为： <span class="math display">\[
E_{K1}=\frac{1}{2}m_1v_{1}^{2}=\frac{1}{2}m_1\left(
\dot{x}_{1}^{2}+\dot{y}_{1}^{2} \right)
=\frac{1}{4}m_1l_{1}^{2}\dot{\theta}_{1}^{2}
\]</span> 连杆2的动能为： <span class="math display">\[
\begin{aligned}
E_{K2}&amp;=\frac{1}{2}m_2v_{2}^{2}=\frac{1}{2}m_2\left(
\dot{x}_{2}^{2}+\dot{y}_{2}^{2} \right)
\\&amp;=\frac{1}{2}m_2l_{1}^{2}\dot{\theta}_{1}^{2}+\frac{1}{8}m_2l_{2}^{2}\left(
\dot{\theta}_1+\dot{\theta}_2 \right) ^2+\frac{1}{2}m_2l_1l_2\cos \theta
_2\cdot \left( \dot{\theta}_{1}^{2}+\dot{\theta}_1\dot{\theta}_2 \right)
\end{aligned}
\]</span> 所以，机器人的总动能为： <span class="math display">\[
\begin{aligned}
E_K&amp;=E_{K1}+E_{K2}\\&amp;=\frac{1}{4}m_1l_{1}^{2}\dot{\theta}_{1}^{2}+\frac{1}{2}m_2l_{1}^{2}\dot{\theta}_{1}^{2}+\frac{1}{8}m_2l_{2}^{2}\left(
\dot{\theta}_1+\dot{\theta}_2 \right) ^2+\frac{1}{2}m_2l_1l_2\cos \theta
_2\cdot \left( \dot{\theta}_{1}^{2}+\dot{\theta}_1\dot{\theta}_2 \right)
\end{aligned}
\]</span> 连杆1的势能为： <span class="math display">\[
E_{P1}=m_1gl_1\sin \theta _1
\]</span> 连杆2的势能为： <span class="math display">\[
E_{P2}=m_2g\left( l_1\sin \theta _1+l_2\sin \theta _2 \right)
\]</span> 所以，机器人的总势能为： <span class="math display">\[
E_P=E_{P1}+E_{P2}=m_1gl_1\sin \theta _1+m_2g\left( l_1\sin \theta
_1+l_2\sin \theta _2 \right)
\]</span> 由Lagrange 动力学方程分别计算关节1和关节2的驱动力。</p>
<p>关节1上的驱动力为： <span class="math display">\[
\begin{aligned}
f_1&amp;=\frac{\mathrm{d}}{\mathrm{d}t}\frac{\partial E_K}{\partial
\dot{q}_1}-\frac{\partial E_K}{\partial q_1}+\frac{\partial
E_P}{\partial q_1}
\\
&amp;=\frac{\mathrm{d}}{\mathrm{d}t}\frac{\partial E_K}{\partial
\dot{\theta}_1}-\frac{\partial E_K}{\partial \theta _1}+\frac{\partial
E_P}{\partial \theta _1}
\\
&amp;=\frac{\mathrm{d}}{\mathrm{d}t}\left(
\frac{1}{2}m_1l_{1}^{2}\dot{\theta}_1+m_2l_{1}^{2}\dot{\theta}_1+\frac{1}{4}m_2l_{2}^{2}\dot{\theta}_1+\frac{1}{4}m_2l_{2}^{2}\dot{\theta}_2+m_2l_1l_2\cos
\theta _2\dot{\theta}_1+\frac{1}{2}m_2l_1l_2\cos \theta _2\dot{\theta}_2
\right) \\&amp;\quad\ -0+m_1gl_1\cos \theta _1\dot{\theta}_1+m_2gl_1\cos
\theta _1\dot{\theta}_1
\\
&amp;=\frac{1}{2}m_1l_{1}^{2}\ddot{\theta}_1+m_2l_{1}^{2}\ddot{\theta}_1+\frac{1}{4}m_2l_{2}^{2}\ddot{\theta}_1+\frac{1}{4}m_2l_{2}^{2}\ddot{\theta}_2-m_2l_1l_2\sin
\theta _2\dot{\theta}_1\dot{\theta}_2+m_2l_1l_2\cos \theta
_2\ddot{\theta}_1
\\&amp;\quad\ +\frac{1}{2}m_2l_1l_2\sin \theta
_2\dot{\theta}_{2}^{2}+\frac{1}{2}m_2l_1l_2\cos \theta
_2\ddot{\theta}_2+m_1gl_1\cos \theta _1\dot{\theta}_1+m_2gl_1\cos \theta
_1\dot{\theta}_1
\end{aligned}
\]</span> 关节1是转动关节，所以 <span class="math inline">\(f_1\)</span>
是转矩，即 <span class="math display">\[
\begin{aligned}
\tau
_1&amp;=\frac{1}{2}m_1l_{1}^{2}\ddot{\theta}_1+m_2l_{1}^{2}\ddot{\theta}_1+\frac{1}{4}m_2l_{2}^{2}\ddot{\theta}_1+\frac{1}{4}m_2l_{2}^{2}\ddot{\theta}_2-m_2l_1l_2\sin
\theta _2\dot{\theta}_1\dot{\theta}_2+m_2l_1l_2\cos \theta
_2\ddot{\theta}_1\\&amp;\quad\ +\frac{1}{2}m_2l_1l_2\sin \theta
_2\dot{\theta}_{2}^{2}+\frac{1}{2}m_2l_1l_2\cos \theta
_2\ddot{\theta}_2+m_1gl_1\cos \theta _1\dot{\theta}_1+m_2gl_1\cos \theta
_1\dot{\theta}_1
\end{aligned}
\]</span> 关节2上的驱动力为： <span class="math display">\[
\begin{aligned}
f_2&amp;=\frac{\mathrm{d}}{\mathrm{d}t}\frac{\partial E_K}{\partial
\dot{q}_2}-\frac{\partial E_K}{\partial q_2}+\frac{\partial
E_P}{\partial q_2}
\\
&amp;=\frac{\mathrm{d}}{\mathrm{d}t}\frac{\partial E_K}{\partial
\dot{\theta}_2}-\frac{\partial E_K}{\partial \theta _2}+\frac{\partial
E_P}{\partial \theta _2}
\\
&amp;=\frac{\mathrm{d}}{\mathrm{d}t}\left(
\frac{1}{4}m_2l_{2}^{2}\dot{\theta}_2+\frac{1}{4}m_2l_{2}^{2}\dot{\theta}_1+\frac{1}{2}m_2l_1l_2\cos
\theta _2\dot{\theta}_1 \right) \\&amp;\quad\ +\frac{1}{2}m_2l_1l_2\sin
\theta _2\left(
\dot{\theta}_{1}^{2}\dot{\theta}_2+\dot{\theta}_1\dot{\theta}_{2}^{2}
\right) +m_2gl_1\cos \theta _2\dot{\theta}_2
\\
&amp;=\frac{1}{4}m_2l_{2}^{2}\ddot{\theta}_2+\frac{1}{4}m_2l_{2}^{2}\ddot{\theta}_1-\frac{1}{2}m_2l_1l_2\sin
\theta _2\dot{\theta}_1\dot{\theta}_2+\frac{1}{2}m_2l_1l_2\cos \theta
_2\ddot{\theta}_1\\&amp;\quad\ +\frac{1}{2}m_2l_1l_2\sin \theta _2\left(
\dot{\theta}_{1}^{2}\dot{\theta}_2+\dot{\theta}_1\dot{\theta}_{2}^{2}
\right)+m_2gl_1\cos \theta _2\dot{\theta}_2
\end{aligned}
\]</span> 关节2是转动关节，所以 <span class="math inline">\(f_2\)</span>
是转矩，即 <span class="math display">\[
\begin{aligned}
\tau
_2&amp;=\frac{1}{4}m_2l_{2}^{2}\ddot{\theta}_2+\frac{1}{4}m_2l_{2}^{2}\ddot{\theta}_1-\frac{1}{2}m_2l_1l_2\sin
\theta _2\dot{\theta}_1\dot{\theta}_2+\frac{1}{2}m_2l_1l_2\cos \theta
_2\ddot{\theta}_1\\&amp;\quad\ +\frac{1}{2}m_2l_1l_2\sin \theta _2\left(
\dot{\theta}_{1}^{2}\dot{\theta}_2+\dot{\theta}_1\dot{\theta}_{2}^{2}
\right) +m_2gl_1\cos \theta _2\dot{\theta}_2
\end{aligned}
\]</span> 所以该机器人的动力学模型为： <span class="math display">\[
\begin{cases}
\begin{aligned}
    \tau
_1&amp;=\frac{1}{2}m_1l_{1}^{2}\ddot{\theta}_1+m_2l_{1}^{2}\ddot{\theta}_1+\frac{1}{4}m_2l_{2}^{2}\ddot{\theta}_1+\frac{1}{4}m_2l_{2}^{2}\ddot{\theta}_2-m_2l_1l_2\sin
\theta _2\dot{\theta}_1\dot{\theta}_2+m_2l_1l_2\cos \theta
_2\ddot{\theta}_1\\&amp;\quad\ +\frac{1}{2}m_2l_1l_2\sin \theta
_2\dot{\theta}_{2}^{2}+\frac{1}{2}m_2l_1l_2\cos \theta
_2\ddot{\theta}_2+m_1gl_1\cos \theta _1\dot{\theta}_1+m_2gl_1\cos \theta
_1\dot{\theta}_1
    \\
    \tau
_2&amp;=\frac{1}{4}m_2l_{2}^{2}\ddot{\theta}_2+\frac{1}{4}m_2l_{2}^{2}\ddot{\theta}_1-\frac{1}{2}m_2l_1l_2\sin
\theta _2\dot{\theta}_1\dot{\theta}_2+\frac{1}{2}m_2l_1l_2\cos \theta
_2\ddot{\theta}_1\\&amp;\quad\ +\frac{1}{2}m_2l_1l_2\sin \theta _2\left(
\dot{\theta}_{1}^{2}\dot{\theta}_2+\dot{\theta}_1\dot{\theta}_{2}^{2}
\right) +m_2gl_1\cos \theta _2\dot{\theta}_2
\end{aligned}
\end{cases}
\]</span></p>
<h2 id="newton-euler-法">Newton-Euler 法</h2>
<p>建立如图2的基坐标系和连杆坐标系。</p>
<p><img src="https://raw.githubusercontent.com/cpxv587/blogimg/main/202211031643070.png" alt="Untitled" style="zoom:30%;" /></p>
<center style="font-size:14px;color:#000">
图2　建立了基坐标系和连杆坐标系的示意图
</center>
<p>两连杆质心在各自连杆坐标系中的位置矢量为：<span
class="math inline">\(^1\boldsymbol{P}_C=l_1X_1\)</span>，<span
class="math inline">\(^2\boldsymbol{P}_D=l_2X_2\)</span></p>
<p>由<span class="math inline">\(^CI_{XX}=\iiint_m{\left( y^2+z^2
\right) \rho \mathrm{d}}V=\frac{1}{2}m_1l_1\sin \theta _1\)</span></p>
<p><span class="math inline">\(^CI_{YY}=\iiint_m{\left( x^2+z^2 \right)
\rho \mathrm{d}}V=\frac{1}{2}m_1l_1\cos \theta _1\)</span></p>
<p><span class="math inline">\(^CI_{ZZ}=\iiint_m{\left( x^2+y^2 \right)
\rho \mathrm{d}}V=\frac{1}{2}m_1l_1\sin \theta _1+\frac{1}{2}m_1l_1\cos
\theta _1\)</span></p>
<p><span class="math inline">\(^CI_{XY}=\iiint_m{xy\rho
\mathrm{d}}V=\frac{1}{3}m_1l_{1}^{3}\sin \theta _1\cos \theta
_1\)</span></p>
<p><span class="math inline">\(^CI_{XZ}=^CI_{YZ}=0\)</span></p>
<p><span class="math inline">\(^DI_{XX}=\iiint_m{\left( y^2+z^2 \right)
\rho \mathrm{d}}V=\frac{1}{2}m_2l_2\sin \theta _2\)</span></p>
<p><span class="math inline">\(^DI_{YY}=\iiint_m{\left( x^2+z^2 \right)
\rho \mathrm{d}}V=\frac{1}{2}m_1l_1\cos \theta _1\)</span></p>
<p><span class="math inline">\(^DI_{ZZ}=\iiint_m{\left( x^2+y^2 \right)
\rho \mathrm{d}}V=\frac{1}{2}m_2l_2\sin \theta _2+\frac{1}{2}m_2l_2\cos
\theta _2\)</span></p>
<p><span class="math inline">\(^DI_{XY}=\iiint_m{xy\rho
\mathrm{d}}V=\frac{1}{3}m_2l_{1}^{3}\sin \theta _2\cos \theta
_2\)</span></p>
<p><span class="math inline">\(^DI_{XZ}=^DI_{YZ}=0\)</span></p>
<p>得两连杆的惯性张量：$^{C}_1=<span
class="math inline">\(，\)</span>^{D}_2=$</p>
<p>由于机械手是在自由空间中运动，所以它的末端受力为0，即：<span
class="math inline">\(^3\boldsymbol{f}_3=0\)</span>，<span
class="math inline">\(^3\boldsymbol{n}_3=0\)</span></p>
<p>由于基座是静止的，所以：<span
class="math inline">\(\boldsymbol{\omega }_0=0\)</span>，<span
class="math inline">\(\dot{\boldsymbol{\omega}}_0=0\)</span></p>
<p>这里考虑各连杆的重力作用，所以基座的线加速度为：<span
class="math inline">\(^0\boldsymbol{v}_0=gY_0\)</span></p>
<p>相邻连杆之间的转换矩阵为： <span class="math display">\[
{ }_{i+1}^i \boldsymbol{R}=\left[\begin{array}{ccc}c_{i+1} &amp;
-s_{i+1} &amp; 0 \\ s_{i+1} &amp; c_{i+1} &amp; 0 \\ 0 &amp; 0 &amp;
1\end{array}\right]
\]</span></p>
<p><span class="math display">\[
{ }_i^{i+1} \boldsymbol{R}=\left[\begin{array}{ccc}c_{i+1} &amp; s_{i+1}
&amp; 0 \\ -s_{i+1} &amp; c_{i+1} &amp; 0 \\ 0 &amp; 0 &amp;
1\end{array}\right]
\]</span></p>
<p>（1）外推计算各连杆的角速度、角加速度、线加速度、惯性力和惯性转矩。</p>
<p>连杆1的角速度、角加速度、线加速度、惯性力和惯性转矩计算如下： <span
class="math display">\[
^1\boldsymbol{\omega }_1=_{0}^{1}\boldsymbol{R}^0\boldsymbol{\omega
}_0+\dot{\boldsymbol{\theta}}_1\cdot ^1\boldsymbol{Z}_1=\left[
\begin{array}{c}
    0\\
    0\\
    \dot{\theta}_1\\
\end{array} \right]
\]</span></p>
<p><span class="math display">\[
^1\dot{\boldsymbol{\omega}}_1=_{0}^{1}\boldsymbol{R}^0\dot{\boldsymbol{\omega}}_0+_{0}^{1}\boldsymbol{R}^0\boldsymbol{\omega
}_0\times \dot{\boldsymbol{\theta}}_1\cdot
^1\boldsymbol{Z}_1+\ddot{\boldsymbol{\theta}}_1\cdot
^1\boldsymbol{Z}_1=\left[ \begin{array}{c}
    0\\
    0\\
    \ddot{\theta}_1\\
\end{array} \right]
\]</span></p>
<p><span class="math display">\[
^1\dot{\boldsymbol{v}}_1=_{0}^{1}\boldsymbol{R}\left(
^0\dot{\boldsymbol{\omega}}_0\times
^0\boldsymbol{P}_1+^0\boldsymbol{\omega }_0\times \left(
^0\boldsymbol{\omega }_0\times ^0\boldsymbol{P}_1 \right)
+^0\dot{\boldsymbol{v}}_0 \right) =\left[ \begin{matrix}
    c_1&amp;        s_1&amp;        0\\
    -s_1&amp;       c_1&amp;        0\\
    0&amp;      0&amp;      1\\
\end{matrix} \right] \left[ \begin{array}{c}
    0\\
    g\\
    0\\
\end{array} \right] =\left[ \begin{array}{c}
    gs_1\\
    gc_1\\
    0\\
\end{array} \right]
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
^1\dot{\boldsymbol{v}}_C&amp;=^1\dot{\boldsymbol{\omega}}_1\times
^1\boldsymbol{P}_C+^1\boldsymbol{\omega }_1\times \left(
^1\boldsymbol{\omega }_1\times ^1\boldsymbol{P}_C \right)
+^1\dot{\boldsymbol{v}}_1
\\
&amp;=\left[ \begin{array}{c}
    0\\
    0\\
    \ddot{\theta}_1\\
\end{array} \right] \times \left[ \begin{array}{c}
    l_1\\
    0\\
    0\\
\end{array} \right] +\left[ \begin{array}{c}
    0\\
    0\\
    \dot{\theta}_1\\
\end{array} \right] \times \left( \left[ \begin{array}{c}
    0\\
    0\\
    \dot{\theta}_1\\
\end{array} \right] \times \left[ \begin{array}{c}
    l_1\\
    0\\
    0\\
\end{array} \right] \right) +\left[ \begin{array}{c}
    gs_1\\
    gc_1\\
    0\\
\end{array} \right] =\left[ \begin{array}{c}
    gs_1-l_1\dot{\theta}_{1}^{2}\\
    gc_1+l_1\ddot{\theta}_1\\
    0\\
\end{array} \right]
\end{aligned}
\]</span></p>
<p><span class="math display">\[
^1\boldsymbol{F}_1={m_1}^1\dot{\boldsymbol{v}}_C=m_1\left[
\begin{array}{c}
    gs_1-l_1\dot{\theta}_{1}^{2}\\
    gc_1+l_1\ddot{\theta}_1\\
    0\\
\end{array} \right]
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
^{1}\boldsymbol{N}_1&amp;=\mathrm{
}^C{\boldsymbol{I}_1}^1\dot{\boldsymbol{\omega}}_1+^1\boldsymbol{\omega
}_1\times \mathrm{ }^{C}\boldsymbol{I}_{1}^{1}\boldsymbol{\omega }_1
\\
&amp;=\left[ \begin{matrix}
    \frac{1}{2}m_1l_1\sin \theta
_1&amp;        -\frac{1}{3}m_1l_{1}^{3}\sin \theta _1\cos \theta
_1&amp;       0\\
    -\frac{1}{3}m_1l_{1}^{3}\sin \theta _1\cos \theta
_1&amp;       \frac{1}{2}m_1l_1\cos \theta _1&amp;        0\\
    0&amp;      0&amp;      \frac{1}{2}m_1l_1\sin \theta
_1+\frac{1}{2}m_1l_1\cos \theta _1\\
\end{matrix} \right] \left[ \begin{array}{c}
    0\\
    0\\
    \ddot{\theta}_1\\
\end{array} \right] \\&amp;\quad\ +\left[ \begin{array}{c}
    0\\
    0\\
    \dot{\theta}_1\\
\end{array} \right] \times \left[ \begin{matrix}
    \frac{1}{2}m_1l_1\sin \theta
_1&amp;        -\frac{1}{3}m_1l_{1}^{3}\sin \theta _1\cos \theta
_1&amp;       0\\
    -\frac{1}{3}m_1l_{1}^{3}\sin \theta _1\cos \theta
_1&amp;       \frac{1}{2}m_1l_1\cos \theta _1&amp;        0\\
    0&amp;      0&amp;      \frac{1}{2}m_1l_1\sin \theta
_1+\frac{1}{2}m_1l_1\cos \theta _1\\
\end{matrix} \right] \left[ \begin{array}{c}
    0\\
    0\\
    \dot{\theta}_1\\
\end{array} \right]
\end{aligned}
\]</span></p>
<p>连杆2的角速度、角加速度、线加速度、惯性力和惯性转矩计算如下： <span
class="math display">\[
^2\boldsymbol{\omega }_2=_{1}^{2}\boldsymbol{R}^1\boldsymbol{\omega
}_1+\dot{\boldsymbol{\theta}}_2\cdot ^2\boldsymbol{Z}_2=\left[
\begin{array}{c}
    0\\
    0\\
    \dot{\theta}_1+\dot{\theta}_2\\
\end{array} \right]
\]</span></p>
<p><span class="math display">\[
^2\boldsymbol{\dot\omega }_2=\left[ \begin{array}{c}
    0\\
    0\\
    \ddot{\theta}_1+\ddot{\theta}_2\\
\end{array} \right]
\]</span></p>
<p><span class="math display">\[
^2\dot{\boldsymbol{v}}_2=\left[ \begin{matrix}
    c_2&amp;        s_2&amp;        0\\
    -s_2&amp;       c_2&amp;        0\\
    0&amp;      0&amp;      1\\
\end{matrix} \right] \left[ \begin{array}{c}
    gs_1-l_1\dot{\theta}_{1}^{2}\\
    gc_1+l_1\ddot{\theta}_1\\
    0\\
\end{array} \right] =\left[ \begin{array}{c}
    gs_{12}-l_1\dot{\theta}_{1}^{2}c_2+l_1\ddot{\theta}_1s_2\\
    gc_{12}+l_1\dot{\theta}_{1}^{2}s_2+l_1\ddot{\theta}_1c_2\\
    0\\
\end{array} \right]
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
^2\dot{\boldsymbol{v}}_{c2}&amp;=\left[ \begin{array}{c}
    0\\
    l_2\left( \ddot{\theta}_1+\ddot{\theta}_2 \right)\\
    0\\
\end{array} \right] +\left[ \begin{array}{c}
    -l_2\left( \dot{\theta}_1+\dot{\theta}_2 \right) ^2\\
    0\\
    0\\
\end{array} \right] +\left[ \begin{array}{c}
    gs_{12}-l_1\dot{\theta}_{1}^{2}c_2+l_1\ddot{\theta}_1s_2\\
    gc_{12}+l_1\dot{\theta}_{1}^{2}s_2+l_1\ddot{\theta}_1c_2\\
    0\\
\end{array} \right]
\\&amp;=\left[ \begin{array}{c}
    gs_{12}-l_1\dot{\theta}_{1}^{2}c_2+l_1\ddot{\theta}_1s_2-l_2\left(
\dot{\theta}_1+\dot{\theta}_2 \right) ^2\\
    gc_{12}+l_1\dot{\theta}_{1}^{2}s_2+l_1\ddot{\theta}_1c_2+l_2\left(
\ddot{\theta}_1+\ddot{\theta}_2 \right)\\
    0\\
\end{array} \right]
\end{aligned}
\]</span></p>
<p><span class="math display">\[
^2\boldsymbol{F}_2={m_2}^2\dot{\boldsymbol{v}}_{c2}=m_2\left[
\begin{array}{c}
    gs_{12}-l_1\dot{\theta}_{1}^{2}c_2+l_1\ddot{\theta}_1s_2-l_2\left(
\dot{\theta}_1+\dot{\theta}_2 \right) ^2\\
    gc_{12}+l_1\dot{\theta}_{1}^{2}s_2+l_1\ddot{\theta}_1c_2+l_2\left(
\ddot{\theta}_1+\ddot{\theta}_2 \right)\\
    0\\
\end{array} \right]
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
    ^2\boldsymbol{N}_2&amp;=\mathrm{
}^C{\boldsymbol{I}_2}^2\dot{\boldsymbol{\omega}}_2+^2\boldsymbol{\omega
}_2\times \mathrm{ }^C\boldsymbol{I}_{2}^{2}\boldsymbol{\omega }_2\\
    &amp;=\left[ \begin{matrix}
    \frac{1}{2}m_2l_2\sin \theta
_2&amp;        -\frac{1}{3}m_2l_{2}^{3}\sin \theta _2\cos \theta
_2&amp;       0\\
    -\frac{1}{3}m_2l_{2}^{3}\sin \theta _2\cos \theta
_2&amp;       \frac{1}{2}m_2l_2\cos \theta _2&amp;        0\\
    0&amp;      0&amp;      \frac{1}{2}m_2l_2\sin \theta
_2+\frac{1}{2}m_2l_2\cos \theta _2\\
\end{matrix} \right] \left[ \begin{array}{c}
    0\\
    0\\
    \ddot{\theta}_1+\ddot{\theta}_2\\
\end{array} \right]\\
    &amp;\quad \,\,+\left[ \begin{array}{c}
    0\\
    0\\
    \dot{\theta}_1+\dot{\theta}_2\\
\end{array} \right] \times \left[ \begin{matrix}
    \frac{1}{2}m_2l_2\sin \theta
_2&amp;        -\frac{1}{3}m_2l_{2}^{3}\sin \theta _2\cos \theta
_2&amp;       0\\
    -\frac{1}{3}m_2l_{2}^{3}\sin \theta _2\cos \theta
_2&amp;       \frac{1}{2}m_2l_2\cos \theta _2&amp;        0\\
    0&amp;      0&amp;      \frac{1}{2}m_2l_2\sin \theta
_2+\frac{1}{2}m_2l_2\cos \theta _2\\
\end{matrix} \right] \left[ \begin{array}{c}
    0\\
    0\\
    \dot{\theta}_1+\dot{\theta}_2\\
\end{array} \right]\\
\end{aligned}
\]</span></p>
<p>（2）内推计算各连杆所受的力和力矩。</p>
<p>连杆2所受的力和力矩为： <span class="math display">\[
^2\boldsymbol{f}_2=\mathrm{ }^2\boldsymbol{F}_2
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
\mathrm{ }^2\boldsymbol{n}_2&amp;=\mathrm{ }^2\boldsymbol{N}_2
+\mathrm{ }^2\boldsymbol{P}_{\mathrm{D}}\times m_2\left[
\begin{array}{c}
    gs_{12}-l_1\dot{\theta}_1c_2+l_1\ddot{\theta}_1s_2-l_2\left(
\dot{\theta}_1+\dot{\theta}_2 \right) ^2\\
    gc_{12}+l_1\dot{\theta}_1s_2+l_1\ddot{\theta}_1c_2+l_2\left(
\ddot{\theta}_1+\ddot{\theta}_2 \right)\\
    0\\
\end{array} \right] \\&amp;=\mathrm{ }^2\boldsymbol{N}_2
+\left[ \begin{array}{c}
    0\\
    0\\
    m_2gl_2c_{12}+m_2l_1l_2s_2\dot{\theta}_{1}^{2}+m_2l_1l_2c_2\ddot{\theta}_1+m_2l_{2}^{2}\left(
\ddot{\theta}_1+\ddot{\theta}_2 \right)\\
\end{array} \right]
\end{aligned}
\]</span></p>
<p>连杆1所受的力和力矩为： <span class="math display">\[
\begin{aligned}
^1\boldsymbol{f}_1&amp;=_{2}^{1}\boldsymbol{R}^2\boldsymbol{f}_2+^1\boldsymbol{F}_1
\\
&amp;=\left[ \begin{matrix}
    c_2&amp;        -s_2&amp;       0\\
    s_2&amp;        c_2&amp;        0\\
    0&amp;      0&amp;      1\\
\end{matrix} \right] \left[ \begin{array}{c}
    m_2l_1s_2\ddot{\theta}_1-m_2l_1c_2\dot{\theta}_{1}^{2}+m_2gs_{12}-m_2l_2\left(
\dot{\theta}_1+\dot{\theta}_2 \right) ^2\\
    m_2l_1c_2\ddot{\theta}_1-m_2l_1s_2\dot{\theta}_{1}^{2}+m_2gc_{12}+m_2l_2\left(
\ddot{\theta}_1+\ddot{\theta}_2 \right)\\
    0\\
\end{array} \right] +\left[ \begin{array}{c}
    -m_1l_1\dot{\theta}_{1}^{2}+m_1gs_1\\
    m_1l_1\ddot{\theta}_1+m_1gc_2\\
    0\\
\end{array} \right]
\end{aligned}
\]</span></p>
<p><span class="math display">\[
^1\boldsymbol{n}_1=^1\boldsymbol{N}_1+_{2}^{1}\boldsymbol{R}^2\boldsymbol{n}_2+^2\boldsymbol{P}_{\mathrm{C}}\times
^1\boldsymbol{F}_1+^1\boldsymbol{P}_2\times
_{2}^{1}\boldsymbol{R}^2\boldsymbol{f}_2
\]</span></p>
<p>（3）因为两个关节都是转动关节，提取各关节对应的 <span
class="math inline">\(^i\boldsymbol{n}_i\)</span> 向量的<span
class="math inline">\(Z\)</span>轴分量，可得两个关节的驱动力矩。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://elapse.fun">cpx</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://elapse.fun/2022/11/04/f3d48ed7528f/">http://elapse.fun/2022/11/04/f3d48ed7528f/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://elapse.fun" target="_blank">cpx的窝</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/11/04/922fe070a135/"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">机器人学第五章作业</div></div></a></div><div class="next-post pull-right"><a href="/2022/09/28/dcf7ef60fe97/"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">【机器人学】第二次作业</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/psc2.gif" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">cpx</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/cpxv587"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">试运行</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%AD%A6%E7%AC%AC%E5%85%AD%E7%AB%A0%E4%BD%9C%E4%B8%9A"><span class="toc-number">1.</span> <span class="toc-text">机器人学第六章作业</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#lagrange-%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">Lagrange 法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#newton-euler-%E6%B3%95"><span class="toc-number">1.2.</span> <span class="toc-text">Newton-Euler 法</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/02/18/f999205b5567/" title="机器人学第七章作业"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="机器人学第七章作业"/></a><div class="content"><a class="title" href="/2023/02/18/f999205b5567/" title="机器人学第七章作业">机器人学第七章作业</a><time datetime="2023-02-18T06:52:14.000Z" title="发表于 2023-02-18 14:52:14">2023-02-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/04/922fe070a135/" title="机器人学第五章作业"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="机器人学第五章作业"/></a><div class="content"><a class="title" href="/2022/11/04/922fe070a135/" title="机器人学第五章作业">机器人学第五章作业</a><time datetime="2022-11-04T13:46:04.000Z" title="发表于 2022-11-04 21:46:04">2022-11-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/04/f3d48ed7528f/" title="机器人学第六章作业"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="机器人学第六章作业"/></a><div class="content"><a class="title" href="/2022/11/04/f3d48ed7528f/" title="机器人学第六章作业">机器人学第六章作业</a><time datetime="2022-11-04T13:46:04.000Z" title="发表于 2022-11-04 21:46:04">2022-11-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/28/dcf7ef60fe97/" title="【机器人学】第二次作业"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【机器人学】第二次作业"/></a><div class="content"><a class="title" href="/2022/09/28/dcf7ef60fe97/" title="【机器人学】第二次作业">【机器人学】第二次作业</a><time datetime="2022-09-28T09:46:03.000Z" title="发表于 2022-09-28 17:46:03">2022-09-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/28/d450fbb3fdc9/" title="【机器人学】第一次作业"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【机器人学】第一次作业"/></a><div class="content"><a class="title" href="/2022/09/28/d450fbb3fdc9/" title="【机器人学】第一次作业">【机器人学】第一次作业</a><time datetime="2022-09-28T09:42:40.000Z" title="发表于 2022-09-28 17:42:40">2022-09-28</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By cpx</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.27/dist/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>